<!doctype html>
<html lang="zh-CN">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>商品管理 · Botshop</title>
	<link rel="stylesheet" href="/admin/assets/styles.css" />
</head>
<body data-page="products">
	<div class="app-shell">
		<aside class="sidebar">
			<div class="brand">
				<p class="muted">Botshop</p>
				<h1>控制面板</h1>
				<p>管理员：<span data-admin-name>...</span></p>
			</div>
			<nav class="nav">
				<a class="nav-link" href="/admin/categories">分类管理</a>
				<a class="nav-link active" href="/admin/products">商品管理</a>
				<a class="nav-link" href="/admin/orders">订单管理</a>
				<a class="nav-link" href="/admin/users">用户概览</a>
			</nav>
			<button class="danger" data-logout>退出登录</button>
		</aside>
		<main class="main">
			<header class="page-header">
				<div>
					<p class="muted">管理后台</p>
					<h2>商品管理</h2>
					<p class="muted">商品信息、媒体、价格和库存管理。</p>
				</div>
				<div class="status-bar" data-status>准备就绪</div>
			</header>
			<section class="panel">
				<div class="panel-header">
					<div>
						<h3>商品列表</h3>
						<p class="muted">维护商品信息、价格与库存。</p>
					</div>
					<button class="secondary" data-action="refresh-products">刷新</button>
				</div>
				<div class="grid two" style="margin-top: 24px;">
					<div class="table-wrapper">
						<table data-table="products">
							<thead>
								<tr><th>标题</th><th>分类</th><th>价格</th><th>库存</th><th>操作</th></tr>
							</thead>
							<tbody></tbody>
						</table>
					</div>
					<div>
						<form id="product-form">
							<label>ID<input name="id" placeholder="创建时留空" readonly /></label>
							<label>Slug<input name="slug" required /></label>
							<label>分类<select name="categoryId" id="product-category"></select></label>
							<label>标题<input name="title" required /></label>
							<label>描述<textarea name="description"></textarea></label>
							<label>媒体地址<input name="mediaUrl" id="product-media-url" /></label>
							<div class="upload-note">
								<p style="margin:0 0 8px;">上传图片到 R2</p>
								<input type="file" id="product-media-file" accept="image/*" />
							</div>
							<label>默认币种<input name="defaultCurrency" value="CNY" /></label>
							<label>接受币种(逗号分隔)<input name="acceptedCurrencies" value="CNY" /></label>
							<label>价格映射(JSON)<textarea name="priceMap" placeholder='{"CNY": 12.88}'></textarea></label>
							<label>库存<input type="number" name="stock" value="0" min="0" /></label>
							<label>发货方式<select name="deliveryMode"><option value="code">自动卡密</option><option value="text">文本</option><option value="manual">人工</option></select></label>
							<label>发货说明<textarea name="deliveryInstructions"></textarea></label>
							<div class="form-actions">
								<button type="submit" class="primary">保存</button>
								<button type="button" class="secondary" data-action="reset-product">清空</button>
							</div>
						</form>
					</div>
				</div>
			</section>
		</main>
	</div>
	<script type="module" src="/admin/assets/shared.js"></script>
	<script type="module" src="/admin/assets/pages/products.js"></script>
</body>
</html>
